{"id":"e4129e97-465b-412c-87a2-13ee04befe78","name":"智能客服管家","description":"智能客服是一款全天候提供智能问答与服务支持的对话机器人，帮助用户高效解答问题，提升服务体验与响应效率。","icon":"","icon_background":null,"categories":[],"tags":["客服助手","专业服务"],"graph":{"nodes":[{"id":"__start__","type":"custom","data":{"type":"start","title":"开始","desc":"","payload__kind":"__start__","variables":[],"config__input_ports":[],"config__output_shape":[{"id":"59878550-401d-4b0c-96a0-bdbfdc9c8c1c","variable_mode":"mode-line","variable_name":"query","variable_type":"str","payload__batch_flag":false},{"id":"4e9e511b-33e5-4a17-aeb8-6cd483996279","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default"}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__output_shape","type":"config__output_shape","label":"参数","tooltip":"定义工作流需要的输入参数，可以选择多种格式"}],"selected":false},"position":{"x":-332.9503545259581,"y":369.68123965962116},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":-332.9503545259581,"y":369.68123965962116},"width":195,"height":56,"selected":false},{"id":"__end__","type":"custom","data":{"type":"end","title":"结束","desc":"","payload__kind":"__end__","outputs":[],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type":"default","sourceNodeTitle":"文字转语音-1"}],"param_check_success":true,"param_input_error":[{"id":"ae9ac5b2-442d-4c87-a97a-18d3475929ac","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false,"error_type":"type_mismatch","source_info":{"node_title":"文字转语音-1","variable_name":"output","variable_type":"file"}}],"param_input_success":[{"id":"ae9ac5b2-442d-4c87-a97a-18d3475929ac","variable_mode":"mode-line","variable_name":"output","variable_type":"file","payload__batch_flag":false,"variable_file_type":"default"}]}],"config__output_ports":[],"config__input_shape":[{"id":"ae9ac5b2-442d-4c87-a97a-18d3475929ac","variable_mode":"mode-line","variable_name":"output","variable_type":"file","payload__batch_flag":false,"variable_file_type":"default"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"}],"selected":false},"position":{"x":1060.7178178916704,"y":276.34314582841154},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1060.7178178916704,"y":276.34314582841154},"width":195,"height":56,"selected":false},{"id":"1752567446853","type":"custom","data":{"type":"universe","title":"智能客服管家","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"id":"3ba815d0928e467ab67a1b61d01c3359","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"条件分支聚合器-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"您是一位24小时智能客服专员，专业领域涵盖产品功能、技术支持、售后服务和业务流程咨询。请遵守以下服务规范：\n1、**精准解答**：基于客户问题提供精准解答\n2、**服务规范**：对话开头需问候，结束时确认问题是否解决（例：“请问还有其他需要帮助吗？”）\n3、 **能力边界**：遇到无法解决的问题时主动提示“正在转接人工客服，请稍候”\n4、 **风险控制**：涉及账户操作/支付等敏感话题时，可以拒绝回答\n5、 **格式规范**：复杂操作分步骤说明（使用①②③序号），技术参数用表格呈现","user":"客服需优先识别**咨询类型**（技术/售后/帐号等），并按类型采用不同回复策略\n我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen2.5-32b-instruct"],"payload__base_model":"qwen2.5-32b-instruct","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":638.3234583429211,"y":558.742203379703},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":638.3234583429211,"y":558.742203379703},"width":195,"height":92,"selected":true},{"id":"1754380026487","type":"custom","data":{"type":"universe","title":"文字转语音-1","desc":"本地的文字转语音模型，可以将文字转换成语音","config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"智能客服管家"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":1},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"inference_service","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"TTS"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"TTS"}},{},{},{}]}]}]}]},{"label":"","name":"payload__inference_service","type":"online_model_select","required":true,"tooltip":"选择推理服务","_check_names":["payload__source","payload__base_model_selected_keys"],"itemProps":{"model_type":"localLLM","model_kind":"TTS"},"model_kind":"TTS"},{},{},{}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type":"default"}],"name":"tts","classification":"basic-model","payload__kind":"TTS","config__can_run_by_single":true,"title_en":"TextToSpeech","about":"本地的文字转语音模型（TTS），可以在本地进行部署和推理","payload__model_source":"online_model","selected":false,"payload__stream":false,"payload__use_history":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"33","payload__base_model_selected_keys":["qwen-tts"],"payload__base_model":"qwen-tts","payload__can_finetune":false,"payload__model_id":33,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":33},"position":{"x":788.3877823603311,"y":303.49896036749027},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":788.3877823603311,"y":303.49896036749027},"width":195,"height":104,"selected":false},{"id":"1754632889277","type":"custom","data":{"type":"code","title":"代码块-1","desc":"编写代码，处理输入变量来生成返回值","variables":[],"code_language":"python3","code":"","outputs":{"key0":{"type":"string","children":null},"key1":{"type":"array","children":null},"key2":{"type":"object","children":null}},"payload__code":"def main(input):\n    return input","payload__code_language":"python3","payload__kind":"Code","config__input_shape":[{"id":"input","variable_name":"query","variable_type":"str","variable_required":true,"variable_mode":"mode-line"},{"id":"e48ed0ec-485a-46f1-92ba-fcebccb67ba5","variable_mode":"mode-line","variable_name":"file","variable_type":"any","payload__batch_flag":false}],"config__output_shape":[{"id":"x","variable_name":"x","variable_type":"str","variable_mode":"mode-line"}],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"59878550-401d-4b0c-96a0-bdbfdc9c8c1c","variable_mode":"mode-line","variable_name":"query","variable_type":"str","payload__batch_flag":false,"sourceNodeTitle":"开始"},{"id":"4e9e511b-33e5-4a17-aeb8-6cd483996279","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default","sourceNodeTitle":"开始"}],"param_check_success":true,"param_input_error":[{"id":"input","variable_name":"query","variable_type":"str","variable_required":true,"variable_mode":"mode-line"}],"param_input_success":[{"id":"input","variable_name":"query","variable_type":"str","variable_required":true,"variable_mode":"mode-line"},{"id":"e48ed0ec-485a-46f1-92ba-fcebccb67ba5","variable_mode":"mode-line","variable_name":"file","variable_type":"any","payload__batch_flag":false}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","tooltip":"输入需要添加到代码的变量，代码中可以直接引用此处添加的变量","variable_type_options":["str","int","float","bool","dict","list","any"]},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","tooltip":"代码运行完成后输出的变量，须保证此处的变量名、变量类型与代码的return中完全一致"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"},{"name":"payload__code","type":"code","label":"Code","code_language_options":[{"label":"python","value":"python3"}],"required":true,"ai_hidden":false}],"name":"code","title_en":"Code","about":"自定义函数和测试输入，并在后台提供一个沙箱协助用户执行代码。沙箱中需要管控好用户的权限，拒绝用户做删除系统文件等危险操作。目前仅支持python。","classification":"fundamental-component","selected":false},"position":{"x":-81.3535465213954,"y":399.6654812844945},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":-81.3535465213954,"y":399.6654812844945},"width":195,"height":92,"selected":false},{"id":"1754633245947","type":"custom","data":{"type":"if-else","title":"条件分支-1","desc":"根据分支条件，判断执行哪个任务","linkNodeId":"1754633245947_link","payload__kind":"Ifs","config__can_run_by_single":false,"config__input_ports":[{"id":"target","param_source_shape":[{"id":"x","variable_name":"x","variable_type":"str","variable_mode":"mode-line","sourceNodeTitle":"代码块-1"}],"param_check_success":true,"param_input_error":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default","error_type":"type_mismatch","source_info":{"node_title":"代码块-1","variable_name":"x","variable_type":"str"}}],"param_input_success":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"any","payload__batch_flag":false}]}],"config__output_ports":[{"id":"true","label":"IF ","logical_operator":"and","cond":"def is_audio_file(input):\r\n    import json\r\n\r\n    if input.startswith(\"<lazyllm-query>\"):\r\n        input_new = input.strip(\"<lazyllm-query>\")\r\n        input_dict = json.loads(input_new)\r\n        input_dict[\"query\"] = \"\"\r\n\r\n        audio_extensions = {\r\n                '.mp3', '.wav', '.flac', '.ogg', '.aac', '.m4a', '.wma',\r\n                '.aiff', '.aif', '.amr', '.opus', '.mp2', '.m4p', '.mid',\r\n                '.midi', '.wv', '.ape', '.ac3', '.dts', '.ra', '.rm',\r\n                '.vox', '.8svx', '.cda', '.au', '.snd', '.pcm', '.raw'\r\n            }\r\n\r\n        filepath = input_dict[\"files\"][0]\r\n        if '.' in filepath:\r\n            extension = filepath.split('.')[-1].lower()\r\n            if '.' + extension in audio_extensions:\r\n                return \"<lazyllm-query>\" + json.dumps(input_dict)","chosen":false,"selected":false},{"id":"false","label":"ELSE"}],"config__input_shape":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"any","payload__batch_flag":false}],"config__output_shape":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"any","payload__batch_flag":false}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":["InputShape_OutputShape_IfsFull"]},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","readOnly":true},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"},{"type":"if_else","name":"payload__if_else","required":true}],"code_language":"python3","payload__judge_on_full_input":true,"name":"ifs","title_en":"IFS","about":"根据分支条件，判断执行哪个任务。类似switch，但条件判断只有为true/false","classification":"control-flow","payload__patent_id":"6411f81f-8a48-49a1-967d-30e02356a4b6","selected":false},"position":{"x":178.86174537167403,"y":362.8959291691694},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":178.86174537167403,"y":362.8959291691694},"width":195,"height":140,"selected":false},{"id":"1754633245947_link","type":"custom","data":{"type":"universe","title":"条件分支聚合器-1","desc":"聚合条件分支的结果","config__input_ports":[{"id":"3a1e616a-63c2-4788-b38c-2d67159ec2f7","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"语音转文字-1"}],"param_check_success":true,"param_input_error":[{"id":"input","variable_mode":"mode-line","error_type":"count_more"}],"param_input_success":[{"id":"d7505fe0dca64caab63538c8061dfff6","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]},{"id":"3ff59b4c-4700-4769-ba5a-12c7fe38942c","param_source_shape":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"any","payload__batch_flag":false,"sourceNodeTitle":"条件分支-1"}],"param_check_success":true,"param_input_error":[{"id":"a49ec1e52dea4460be49bfda08c1543e","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","error_type":"count_more"}],"param_input_success":[{"id":"d7505fe0dca64caab63538c8061dfff6","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":["InputShape_OutputShape_ModeSame"],"readOnly":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","readOnly":true},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","max":9999,"tooltip":"将取期望的字段"}],"config__input_shape":[{"id":"d7505fe0dca64caab63538c8061dfff6","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"config__output_shape":[{"id":"3ba815d0928e467ab67a1b61d01c3359","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"aggregator","classification":"fundamental-component","payload__kind":"aggregator","title_en":"Branch Aggregator","payload__setmode":"mode-same","createWithIntention":true,"selected":false},"position":{"x":485.93281308615974,"y":333.1974447683298},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":485.93281308615974,"y":333.1974447683298},"width":195,"height":88,"selected":false},{"id":"1754633275402","type":"custom","data":{"type":"universe","title":"语音转文字-1","desc":"本地的语音转文字模型，可以将语音转换成文字","config__input_ports":[{"id":"target","param_source_shape":[{"id":"34b1722f-3144-41a7-8ef4-cbc8c776550a","variable_mode":"mode-line","variable_name":"input","variable_type":"any","payload__batch_flag":false,"sourceNodeTitle":"条件分支-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"speech","variable_name":"speech","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file","str"]}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":1},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"inference_service","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"STT"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"STT"}},{},{},{}]}]}]}]},{"label":"","name":"payload__inference_service","type":"online_model_select","required":true,"tooltip":"选择推理服务","_check_names":["payload__source","payload__base_model_selected_keys"],"itemProps":{"model_type":"localLLM","model_kind":"STT"},"model_kind":"STT"},{},{},{}],"config__input_shape":[{"id":"speech","variable_name":"speech","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file","str"]}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"stt","classification":"basic-model","payload__kind":"STT","config__can_run_by_single":true,"title_en":"SpeechToText","about":"本地的语音转文字模型（STT），可以在本地进行部署和推理","payload__model_source":"online_model","selected":false,"payload__stream":false,"payload__use_history":false,"payload__source":"GLM","payload__base_url":"","payload__source_id":"36","payload__base_model_selected_keys":["glm-asr"],"payload__base_model":"glm-asr","payload__model_id":36,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":36,"payload__can_finetune":false},"position":{"x":300.4841100608262,"y":123.89384041955674},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":300.4841100608262,"y":123.89384041955674},"width":195,"height":104,"selected":false}],"edges":[{"id":"8dcc2ac9-8319-49d6-acff-705f1884f58f","source":"1752567446853","target":"1754380026487","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"03a07cb9-d413-4343-9346-0fa083fa3d09","source":"1754380026487","target":"__end__","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"end"}},{"id":"1754633245947-1754633245947_link-dash","source":"1754633245947","sourceHandle":"false","targetHandle":"","target":"1754633245947_link","type":"dash-edge","data":{"sourceType":"if-else","targetType":"universe"}},{"id":"81a370f5-5f20-48ed-8487-7734aaccf03d","source":"1754632889277","target":"1754633245947","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"code","targetType":"if-else"}},{"id":"5632d90a-b2ba-4799-8025-75b6062c145d","source":"1754633245947","target":"1754633275402","sourceHandle":"true","targetHandle":"target","type":"custom","data":{"sourceType":"if-else","targetType":"universe"}},{"id":"dda24c3d-95ed-4535-a6af-68cb95228348","source":"1754633275402","target":"1754633245947_link","sourceHandle":"source","targetHandle":"3a1e616a-63c2-4788-b38c-2d67159ec2f7","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"c661265a-b3b9-4a17-9f3f-adc2663ac9cb","source":"1754633245947","target":"1754633245947_link","sourceHandle":"false","targetHandle":"3ff59b4c-4700-4769-ba5a-12c7fe38942c","type":"custom","data":{"sourceType":"if-else","targetType":"universe"}},{"id":"bf663e38-c342-4eb7-bacd-6ea55cb193cb","source":"__start__","target":"1754632889277","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"start","targetType":"code"}},{"id":"cf185fc4-8868-4299-bc5c-169b15ac9ad8","source":"1754633245947_link","target":"1752567446853","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"}}],"resources":[],"edgeMode":"bezier","viewport":{"x":513.5256452110739,"y":39.393824085610504,"zoom":0.707106790924537}}}