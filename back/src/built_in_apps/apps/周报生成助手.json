{"id":"088645f1-7f95-4a6c-b6b4-124a520c42bf","name":"周报生成助手","description":"","icon":"","icon_background":null,"categories":[],"tags":["效率工具","办公助手"],"graph":{"nodes":[{"id":"__start__","type":"custom","data":{"type":"start","title":"开始","desc":"LazyLLM工作流起始节点","payload__kind":"__start__","variables":[],"config__input_ports":[],"config__output_shape":[{"id":"fbaedba6-7f94-4a31-9e09-1bf48368df67","variable_mode":"mode-line","variable_name":"query","variable_type":"str","payload__batch_flag":false}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__output_shape","type":"config__output_shape","label":"参数","tooltip":"定义LazyLLM工作流需要的输入参数，可以选择多种格式"}],"selected":false},"position":{"x":375,"y":342},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":375,"y":342},"width":195,"height":88,"selected":false},{"id":"__end__","type":"custom","data":{"type":"end","title":"结束","desc":"LazyLLM工作流结束节点","payload__kind":"__end__","outputs":[],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"any","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"sourceNodeTitle":"工具调用智能体-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"e22ca945-7964-4451-a5cc-01c96d141595","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}]}],"config__output_ports":[],"config__input_shape":[{"id":"e22ca945-7964-4451-a5cc-01c96d141595","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"}],"selected":false},"position":{"x":1280,"y":334},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1280,"y":334},"width":195,"height":88,"selected":false},{"id":"1755761554938","type":"custom","data":{"type":"universe","title":"大模型-1","desc":"调用 LazyLLM 大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"id":"fbaedba6-7f94-4a31-9e09-1bf48368df67","variable_mode":"mode-line","variable_name":"query","variable_type":"str","payload__batch_flag":false,"sourceNodeTitle":"开始"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"LazyLLM 大模型，可以进行推理和文本生成","payload__model_source":"online_model","payload__prompt":{"system":"你是一个擅长撰写周报的助手。请根据以下用户提供的本周工作内容，自动生成一份结构化的周报，包含以下格式：\n\n【本周主要工作】\n- xxx\n- xxx\n\n【项目进展】\n- xxx\n\n【下周计划】\n- xxx\n\n【风险与问题】\n- xxx\n\n【收件人】\n- xxx","user":"用户输入的工作内容如下：\n{query}"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":716.7058951466361,"y":317.67051986464344},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":716.7058951466361,"y":317.67051986464344},"width":195,"height":104,"selected":false},{"id":"1755761606962","type":"custom","data":{"type":"universe","title":"工具调用智能体-1","desc":"使用 LazyLLM 大模型调用工具","config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"大模型-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":1,"tooltip":"用于调用或输入工具的参数，可添加至工具中"},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"工具输出的参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"name":"payload__tools","label":"工具","type":"tool_resource_selector","required":true,"itemProps":{"multiple":true}},{"name":"payload__algorithm","label":"算法","type":"select","options":[{"label":"React","value":"React","desc":"React（思考-行动-观察循环）：模型逐步推理并交替调用工具，根据每步观察结果动态调整决策，适合实时交互和链式思维任务。"},{"label":"ReWoo","value":"ReWoo","desc":"ReWoo（反演-重写-工具优化）：模型先生成初步答案，再判断是否借助工具优化输出，突出结果导向和后验改写能力。"},{"label":"PlanAndSolve","value":"PlanAndSolve","desc":"PlanAndSolve（计划-执行分离）：模型先整体规划任务执行步骤，再依计划逐步调用工具，适合多阶段、结构化问题求解。"}],"allowClear":true,"tooltip":"模型选择工具的推理过程","required":false}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"any","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false}],"name":"function-call","classification":"function-module","payload__kind":"FunctionCall","title_en":"FunctionCall","config__can_run_by_single":true,"about":"工具调用模块","payload__model_source":"online_model","selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__tools":["resource_ad132fdf_0326_4516_a3ea_c116ba7e1a6e"],"payload__tools_name":"邮件发送-send_email","payload__base_model_id":6,"payload__algorithm":"React"},"position":{"x":998.015625,"y":308},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":998.015625,"y":308},"width":195,"height":92,"selected":true}],"edges":[{"id":"2cb9c7f6-846b-439c-8bff-861971ba6862","source":"__start__","target":"1755761554938","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"start","targetType":"universe"}},{"id":"7a866a91-19f8-4a5a-8461-61b6a4d4405f","source":"1755761554938","target":"1755761606962","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"9f09da92-6851-4f34-aa2a-80fff7f0d570","source":"1755761606962","target":"__end__","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"end"}}],"resources":[{"id":"resource_ad132fdf_0326_4516_a3ea_c116ba7e1a6e","provider_id":79,"type":"mcp","classification":"tool","name":"邮件发送-send_email","title":"邮件发送-send_email","desc":"发送邮件","description":"发送邮件","mcp_server_info":{"id":79,"name":"邮件发送","description":"邮件发送","icon":"/app/upload/tool.jpg","transport_type":"STDIO","timeout":60,"stdio_command":"npx","stdio_arguments":"mcp-email","stdio_env":{"EMAIL_PASSWORD":"UUect35EiBBUpj3b","EMAIL_TYPE":"auto","EMAIL_USER":"wangysunjh@163.com"},"http_url":null,"headers":null,"sync_tools_at":"2025-08-26 16:36:24","created_at":"2025-08-26 16:36:19","updated_at":"2025-08-26 16:37:38","publish_at":"2025-08-26 16:37:35","user_id":"daea6f92-b470-4701-a4a9-1892ee7c62e4","user_name":"public","tenant_id":"7ca607cc-68bc-4b7f-8b91-88338708a3d4","publish":true,"publish_type":"正式发布","enable":true,"test_state":"success","tags":["实用工具"],"ref_status":false},"payload__mcp_server_id":79,"payload__mcp_tool_id":838,"payload__kind":"MCPTool","config__parameters":[{"name":"attachments","type":"list","label":"邮件附件列表（可选）","required":false,"description":"邮件附件列表（可选）"},{"name":"bcc","type":"list","label":"密送邮箱地址列表（可选）","required":false,"description":"密送邮箱地址列表（可选）"},{"name":"cc","type":"list","label":"抄送邮箱地址列表（可选）","required":false,"description":"抄送邮箱地址列表（可选）"},{"name":"html","type":"string","label":"HTML格式邮件内容（可选）","required":false,"description":"HTML格式邮件内容（可选）"},{"name":"subject","type":"string","label":"邮件主题","required":true,"description":"邮件主题"},{"name":"text","type":"string","label":"纯文本邮件内容","required":true,"description":"纯文本邮件内容"},{"name":"to","type":"list","label":"收件人邮箱地址列表","required":true,"description":"收件人邮箱地址列表"}],"mcp_child_tool_info":{"id":838,"mcp_server_id":79,"name":"send_email","description":"发送邮件","input_schema":{"properties":{"attachments":{"description":"邮件附件列表（可选）","items":{"properties":{"content":{"description":"附件内容(base64编码)","type":"string"},"filename":{"description":"附件文件名","type":"string"},"path":{"description":"附件文件路径","type":"string"}},"type":"object"},"type":"array"},"bcc":{"description":"密送邮箱地址列表（可选）","items":{"type":"string"},"type":"array"},"cc":{"description":"抄送邮箱地址列表（可选）","items":{"type":"string"},"type":"array"},"html":{"description":"HTML格式邮件内容（可选）","type":"string"},"subject":{"description":"邮件主题","type":"string"},"text":{"description":"纯文本邮件内容","type":"string"},"to":{"description":"收件人邮箱地址列表","items":{"type":"string"},"type":"array"}},"required":["to","subject","text"],"type":"object"},"additional_properties":null,"annotations":null,"schema":null,"status":null,"created_at":"2025-08-26 16:36:24","updated_at":"2025-08-26 16:36:24"},"data":{"provider_id":79,"type":"mcp","classification":"tool","name":"邮件发送-send_email","title":"邮件发送-send_email","desc":"发送邮件","description":"发送邮件","mcp_server_info":{"id":79,"name":"邮件发送","description":"邮件发送","icon":"/app/upload/tool.jpg","transport_type":"STDIO","timeout":60,"stdio_command":"npx","stdio_arguments":"mcp-email","stdio_env":{"EMAIL_PASSWORD":"UUect35EiBBUpj3b","EMAIL_TYPE":"auto","EMAIL_USER":"wangysunjh@163.com"},"http_url":null,"headers":null,"sync_tools_at":"2025-08-26 16:36:24","created_at":"2025-08-26 16:36:19","updated_at":"2025-08-26 16:37:38","publish_at":"2025-08-26 16:37:35","user_id":"daea6f92-b470-4701-a4a9-1892ee7c62e4","user_name":"public","tenant_id":"7ca607cc-68bc-4b7f-8b91-88338708a3d4","publish":true,"publish_type":"正式发布","enable":true,"test_state":"success","tags":["实用工具"],"ref_status":false},"payload__mcp_server_id":79,"payload__mcp_tool_id":838,"payload__kind":"MCPTool","config__parameters":[{"name":"attachments","type":"list","label":"邮件附件列表（可选）","required":false,"description":"邮件附件列表（可选）"},{"name":"bcc","type":"list","label":"密送邮箱地址列表（可选）","required":false,"description":"密送邮箱地址列表（可选）"},{"name":"cc","type":"list","label":"抄送邮箱地址列表（可选）","required":false,"description":"抄送邮箱地址列表（可选）"},{"name":"html","type":"string","label":"HTML格式邮件内容（可选）","required":false,"description":"HTML格式邮件内容（可选）"},{"name":"subject","type":"string","label":"邮件主题","required":true,"description":"邮件主题"},{"name":"text","type":"string","label":"纯文本邮件内容","required":true,"description":"纯文本邮件内容"},{"name":"to","type":"list","label":"收件人邮箱地址列表","required":true,"description":"收件人邮箱地址列表"}],"mcp_child_tool_info":{"id":838,"mcp_server_id":79,"name":"send_email","description":"发送邮件","input_schema":{"properties":{"attachments":{"description":"邮件附件列表（可选）","items":{"properties":{"content":{"description":"附件内容(base64编码)","type":"string"},"filename":{"description":"附件文件名","type":"string"},"path":{"description":"附件文件路径","type":"string"}},"type":"object"},"type":"array"},"bcc":{"description":"密送邮箱地址列表（可选）","items":{"type":"string"},"type":"array"},"cc":{"description":"抄送邮箱地址列表（可选）","items":{"type":"string"},"type":"array"},"html":{"description":"HTML格式邮件内容（可选）","type":"string"},"subject":{"description":"邮件主题","type":"string"},"text":{"description":"纯文本邮件内容","type":"string"},"to":{"description":"收件人邮箱地址列表","items":{"type":"string"},"type":"array"}},"required":["to","subject","text"],"type":"object"},"additional_properties":null,"annotations":null,"schema":null,"status":null,"created_at":"2025-08-26 16:36:24","updated_at":"2025-08-26 16:36:24"},"id":"resource_ad132fdf_0326_4516_a3ea_c116ba7e1a6e","selected":false,"ref_status":false}}],"edgeMode":"step","viewport":{"x":53.96996947016362,"y":63.95618835718062,"zoom":0.7348672401405871}}}