{"id":"0c229d39-6868-4c75-b01a-22526436c782","name":"ä¼šè®®çºªè¦åŠ©æ‰‹","description":"æ ¹æ®ä¼šè®®å†…å®¹ï¼Œè‡ªåŠ¨æç‚¼è®®é¢˜ã€è¦ç‚¹ã€å†³ç­–ä¸å¾…åŠäº‹é¡¹ï¼Œæ”¯æŒä¸Šä¼ å½•éŸ³æˆ–å¯¹è¯æ–‡æœ¬ï¼Œä¸€é”®ç”Ÿæˆç»“æ„åŒ–çºªè¦ã€‚","icon":"","icon_background":null,"categories":[],"tags":["åŠå…¬åŠ©æ‰‹","æ•ˆç‡å·¥å…·","å›¾åƒä¸éŸ³é¢‘"],"graph":{"nodes":[{"id":"__start__","type":"custom","data":{"type":"start","title":"å¼€å§‹","desc":"","payload__kind":"__start__","variables":[],"config__input_ports":[],"config__output_shape":[{"id":"7a8fd8c2-7476-40e6-9eff-902b09f751c8","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default"}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__output_shape","type":"config__output_shape","label":"å‚æ•°","tooltip":"å®šä¹‰å·¥ä½œæµéœ€è¦çš„è¾“å…¥å‚æ•°ï¼Œå¯ä»¥é€‰æ‹©å¤šç§æ ¼å¼"}],"selected":false},"position":{"x":51,"y":274},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":51,"y":274},"width":195,"height":56,"selected":false},{"id":"__end__","type":"custom","data":{"type":"end","title":"ç»“æŸ","desc":"","payload__kind":"__end__","outputs":[],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"429905311a2f40628a5cc7e62e25a9cc","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"æ¡ä»¶åˆ†æ”¯èšåˆå™¨-1"}],"param_check_success":true,"param_input_error":[{"id":"f30d138f-1e04-4749-a297-aa1f952f0d42","variable_mode":"mode-line","variable_name":"output","error_type":"type_mismatch","source_info":{"node_title":"æ¡ä»¶åˆ†æ”¯èšåˆå™¨-1","variable_name":"output_0","variable_type":"str"}}],"param_input_success":[{"id":"f30d138f-1e04-4749-a297-aa1f952f0d42","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}]}],"config__output_ports":[],"config__input_shape":[{"id":"f30d138f-1e04-4749-a297-aa1f952f0d42","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"å‚æ•°"},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","tooltip":"è¾“å…¥å‚æ•°çš„æ•°é‡ï¼Œéœ€ä¿è¯ä¸è¾“å…¥å‚æ•°æ•°é‡ä¿æŒä¸€è‡´"}],"selected":false},"position":{"x":1368,"y":286},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1368,"y":286},"width":195,"height":56,"selected":false},{"id":"1752570560702","type":"custom","data":{"type":"universe","title":"ä¼šè®®åŠ©æ‰‹2","desc":"è°ƒç”¨å¤§æ¨¡å‹ï¼Œä½¿ç”¨å˜é‡å’Œæç¤ºè¯ç”Ÿæˆå›å¤","config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str"],"sourceNodeTitle":"docxæ–‡æ¡£è§£æå™¨"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":"","min":1,"max":10,"tooltip":"è¾“å…¥éœ€è¦æ·»åŠ åˆ°æç¤ºè¯çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥è¢«ä¸‹æ–¹çš„æç¤ºè¯å¼•ç”¨","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","effects":"","min":1,"max":1,"tooltip":"å¤§æ¨¡å‹ç”Ÿæˆçš„è¾“å‡ºå†…å®¹"},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","effects":"","tooltip":"å°†å–æœŸæœ›çš„å­—æ®µ"},{"label":"æ¨¡å‹æ¥æº","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"åœ¨çº¿æ¨¡å‹"},{"value":"inference_service","label":"å¹³å°æ¨ç†æœåŠ¡"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"æ¨ç†æœåŠ¡","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"é€‰æ‹©æ¨ç†æœåŠ¡","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šã€æ™ºèƒ½ã€æœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜æä¾›å‡†ç¡®ã€æœ‰å¸®åŠ©çš„å›ç­”ã€‚å¦‚æœä½ ä¸çŸ¥é“æŸä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œè¯·è¯šå®åœ°è¯´å‡ºæ¥ï¼Œè€Œä¸è¦ç¼–é€ ä¿¡æ¯ã€‚ä½ çš„å›ç­”åº”è¯¥æ˜¯æ¸…æ™°ã€ç®€æ´ä¸”ç»“æ„è‰¯å¥½çš„ã€‚"},{"role":"user","content":"æˆ‘éœ€è¦ä½ å¸®æˆ‘è§£ç­”å…³äº{query}çš„é—®é¢˜ã€‚è¯·æä¾›è¯¦ç»†ä¸”å‡†ç¡®çš„ä¿¡æ¯ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥åˆ—å‡ºæ­¥éª¤æˆ–è€…ç›¸å…³ä¾‹å­æ¥è¯´æ˜ã€‚"}],"itemProps":{"format":"dict"}},{"label":"ç¤ºä¾‹å¯¹è¯","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"æµå¼è¾“å‡º","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"æµå¼è¾“å‡ºæ¨¡å‹ç»“æœ"},{"label":"æ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"æ¨¡å‹èƒ½å¤Ÿæ”¶åˆ°å‰è½®å¯¹è¯å†…å®¹ä»¥ä¸°å¯ŒèƒŒæ™¯ä¿¡æ¯è¾“å…¥"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"å¤§æ¨¡å‹ï¼Œå¯ä»¥è¿›è¡Œæ¨ç†","payload__model_source":"online_model","payload__prompt":{"system":"# è§’è‰²è®¾å®š\næ‚¨æ˜¯ä¸–ç•Œ500å¼ºä¼ä¸šè®¤è¯çš„ä¸“ä¸šä¼šè®®çºªè¦å®˜ï¼Œä¸“ç²¾äºä»ä¼šè®®å¯¹è¯ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯ã€‚è¯·éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š\n\n# æ ¸å¿ƒä»»åŠ¡\n1. **ä¿¡æ¯åˆ†å±‚æå–**\n   - è®®é¢˜ï¼šè¯†åˆ«æ ¸å¿ƒè®¨è®ºæ–¹å‘ï¼ˆæ ¼å¼ï¼š`[åºå·] æ ¸å¿ƒè®®é¢˜`ï¼‰\n   - è¦ç‚¹ï¼šæ¯ä¸ªè®®é¢˜ä¸‹çš„å…³é”®è®ºç‚¹ï¼ˆå¸¦å‘è¨€è€…æ ‡æ³¨ï¼š`@å¼ ä¸‰ï¼šå»ºè®®ä¼˜åŒ–å·¥ä½œæµ`ï¼‰\n   - å†³ç­–ï¼šæ˜ç¡®å†™ã€Œè¾¾æˆå†³è®®ã€å’Œã€Œå¾…è¡¨å†³é¡¹ã€\n   - å¾…åŠï¼šæŒ‰SMARTåŸåˆ™æè¿°ï¼ˆç¤ºä¾‹ï¼š`@æå›› | å‘¨ä¸‰å‰æäº¤é¢„ç®—è¡¨ | 7/18 17:00`ï¼‰\n\n2. **ä¿¡æ¯å¤„ç†è§„èŒƒ**\n   - åˆ é™¤é‡å¤è¡¨è¾¾ï¼ˆä¿ç•™æœ€å®Œæ•´è¡¨è¿°ï¼‰\n   - å£è¯­è½¬ä¸“ä¸šæœ¯è¯­ï¼ˆä¾‹ï¼šâ€œæå®šâ€â†’â€œå®Œæˆäº¤ä»˜â€ï¼‰\n   - é‡åŒ–æ¨¡ç³Šè¡¨è¿°ï¼ˆâ€œå°½å¿«â€â†’å…·ä½“æˆªæ­¢æ—¥ï¼‰\n\n3. **é£é™©æ§åˆ¶**\n   - å­˜ç–‘å†…å®¹æ ‡æ³¨`[éœ€ç¡®è®¤]`\n   - æ•æ„Ÿä¿¡æ¯è‡ªåŠ¨è„±æ•ï¼ˆé¢„ç®—/è–ªèµ„ç­‰â†’`[ä¿å¯†æ•°æ®]`ï¼‰\n   - è¡¨å†³ç±»å†³è®®æ³¨æ˜æ”¯æŒ/åå¯¹äººæ•°æ¯”\n\n# è¾“å‡ºæ ¼å¼\n=== ä¼šè®®çºªè¦ ===\nğŸ“… æ—¥æœŸï¼š[ä¼šè®®æ—¥æœŸ]\nğŸ‘¥ å‚ä¼šï¼š[å§“å1]ã€[å§“å2]...\n------------------------------------\nä¸€ã€æ ¸å¿ƒè®®é¢˜\n1. [è®®é¢˜1]\n2. [è®®é¢˜2]\n\näºŒã€è®¨è®ºè¦ç‚¹\nã€è®®é¢˜1ã€‘\nâ€¢ @å‘è¨€äººAï¼š[è§‚ç‚¹]\nâ€¢ @å‘è¨€äººBï¼š[è¡¥å……]\n\nä¸‰ã€ä¼šè®®å†³ç­–\nâœ… å·²é€šè¿‡ï¼š[å†³è®®å†…å®¹]\nâŒ› å¾…è¡¨å†³ï¼š[äº‹é¡¹]ï¼ˆä¸‹æ¬¡ä¼šè®®ï¼‰\n\nå››ã€å¾…åŠäº‹é¡¹\n| äº‹é¡¹æè¿° | è´£ä»»äºº | æˆªæ­¢æ—¶é—´ |\n|----------|--------|----------|\n| [ä»»åŠ¡]   | [å§“å] | [æ—¥æœŸ]   |\n| ...          | ...        | ...          |\n| ...          | ...        | ...          |","user":"ä»¥ä¸‹å°±æ˜¯ç”¨æˆ·æä¾›çš„å…·ä½“ä¼šè®®çºªè¦å†…å®¹:{query}ã€‚è¯·ä¸¥æ ¼æŒ‰ç…§è¦æ±‚çš„æ ¼å¼è¾“å‡ºä¼šè®®çºªè¦å†…å®¹ã€‚"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen2.5-32b-instruct"],"payload__base_model":"qwen2.5-32b-instruct","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":822.0026092529297,"y":286},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":822.0026092529297,"y":286},"width":195,"height":92,"selected":false},{"id":"1752571448962","type":"custom","data":{"type":"if-else","title":"æ¡ä»¶åˆ†æ”¯-1","desc":"æ ¹æ®åˆ†æ”¯æ¡ä»¶ï¼Œåˆ¤æ–­æ‰§è¡Œå“ªä¸ªä»»åŠ¡","linkNodeId":"1752571448962_link","payload__kind":"Ifs","config__can_run_by_single":false,"config__input_ports":[{"id":"target","param_source_shape":[{"id":"7a8fd8c2-7476-40e6-9eff-902b09f751c8","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default","sourceNodeTitle":"å¼€å§‹"}],"param_check_success":true,"param_input_error":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","error_type":"type_mismatch","source_info":{"node_title":"å¼€å§‹","variable_name":"input","variable_type":"file"}}],"param_input_success":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default"}]}],"config__output_ports":[{"id":"true","label":"IF ","logical_operator":"and","cond":"def is_audio_file(input):\r\n    import json\r\n    input_new = input.strip(\"<lazyllm-query>\")\r\n    input_dict = json.loads(input_new)\r\n\r\n    audio_extensions = {\r\n            '.mp3', '.wav', '.flac', '.ogg', '.aac', '.m4a', '.wma',\r\n            '.aiff', '.aif', '.amr', '.opus', '.mp2', '.m4p', '.mid',\r\n            '.midi', '.wv', '.ape', '.ac3', '.dts', '.ra', '.rm',\r\n            '.vox', '.8svx', '.cda', '.au', '.snd', '.pcm', '.raw'\r\n        }\r\n\r\n    filepath = input_dict[\"files\"][0]\r\n    if '.' in filepath:\r\n        extension = filepath.split('.')[-1].lower()\r\n        if '.' + extension in audio_extensions:\r\n            return input","chosen":false,"selected":false},{"id":"false","label":"ELSE"}],"config__input_shape":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default"}],"config__output_shape":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":["InputShape_OutputShape_IfsFull"]},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","readOnly":true},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","tooltip":"è¾“å…¥å‚æ•°çš„æ•°é‡ï¼Œéœ€ä¿è¯ä¸è¾“å…¥å‚æ•°æ•°é‡ä¿æŒä¸€è‡´"},{"name":"payload__judge_on_full_input","label":"ä½¿ç”¨å…¨éƒ¨çš„è¾“å…¥åˆ¤æ–­","type":"select","options":[{"label":"æ˜¯","value":true},{"label":"å¦","value":false}],"defaultValue":true,"watch":[{"conditions":[{"value":false}],"actions":[{"key":"config__parameters","extend":true,"value":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":["InputShape_OutputShape_IfsNoFull"],"min":2},{},{},{},{"type":"if_else","name":"payload__if_else","required":true}]},{"key":"config__input_shape","value":[{"id":"input","variable_name":"æ¡ä»¶","variable_name_readonly":true},{"id":"input_1"}]},{"key":"config__output_shape","value":[{"id":"output_1"}]}]},{"conditions":[{"value":true}],"actions":[{"key":"config__parameters","extend":true,"value":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":["InputShape_OutputShape_IfsFull"]},{},{},{},{"type":"if_else","name":"payload__if_else","required":true}]},{"key":"config__input_shape","value":[{"id":"input_1"}]},{"key":"config__output_shape","value":[{"id":"output_1"}]}]}]},{"type":"if_else","name":"payload__if_else","required":true}],"code_language":"python3","name":"ifs","title_en":"IFS","about":"æ ¹æ®åˆ†æ”¯æ¡ä»¶ï¼Œåˆ¤æ–­æ‰§è¡Œå“ªä¸ªä»»åŠ¡ã€‚ç±»ä¼¼switchï¼Œä½†æ¡ä»¶åˆ¤æ–­åªæœ‰ä¸ºtrue/false","classification":"control-flow","payload__patent_id":"8069c767-511a-4393-a4ad-03b89b65187b","payload__judge_on_full_input":true,"selected":false},"position":{"x":286.0026092529297,"y":242},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":286.0026092529297,"y":242},"width":195,"height":140,"selected":false},{"id":"1752571448962_link","type":"custom","data":{"type":"universe","title":"æ¡ä»¶åˆ†æ”¯èšåˆå™¨-1","desc":"èšåˆæ¡ä»¶åˆ†æ”¯çš„ç»“æœ","config__input_ports":[{"id":"12aa2f53-f83e-4d42-b0fd-2b670552b5d4","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"ä¼šè®®åŠ©æ‰‹1"}],"param_check_success":true,"param_input_success":[{"id":"a97a660269644092a441c008729c3934","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"param_input_error":[{"id":"02b8e593cd644770a31fdd2d29170ae5","variable_name":"input_0_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","variable_port":"12aa2f53-f83e-4d42-b0fd-2b670552b5d4","variable_const":"None"}]},{"id":"81d054c9-2174-4835-9292-340c2eee2dcc","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"ä¼šè®®åŠ©æ‰‹2"}],"param_check_success":true,"param_input_success":[{"id":"a97a660269644092a441c008729c3934","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":["InputShape_OutputShape_ModeIndependent"],"readOnly":true},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","effects":"","readOnly":true},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","effects":"","max":9999,"tooltip":"å°†å–æœŸæœ›çš„å­—æ®µ"},{"label":"æ¨¡å¼","name":"payload__setmode","type":"select","required":true,"tooltip":"æä¾›ä¸¤ç§èšåˆæ¨¡å¼ï¼Œç‹¬ç«‹æ¨¡å¼å¯å°†å¤šä¸ªè¾“å…¥èšåˆä¸ºä¸€ä¸ªè¾“å‡ºï¼ŒåŒä¸€æ¨¡å¼å°†å¤šä¸ªè¾“å…¥åˆ†åˆ«è¾“å‡º","options":[{"label":"åŒä¸€æ¨¡å¼","value":"mode-same"},{"label":"ç‹¬ç«‹æ¨¡å¼","value":"mode-independent"}],"defaultValue":"mode-same","watch":[{"conditions":[{"value":"mode-independent"}],"actions":[{"key":"config__parameters","extend":true,"value":[{"effects":["InputShape_OutputShape_ModeIndependent"]},{},{},{}]},{"key":"config__input_shape","value":[{"id":"input"}]},{"key":"config__output_shape","value":[{"id":"output"}]}]},{"conditions":[{"value":"mode-same"}],"actions":[{"key":"config__parameters","extend":true,"value":[{"effects":["InputShape_OutputShape_ModeSame"]},{},{},{}]},{"key":"config__input_shape","value":[{"id":"input"}]},{"key":"config__output_shape","value":[{"id":"output"}]}]}]}],"config__input_shape":[{"id":"a97a660269644092a441c008729c3934","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"config__output_shape":[{"id":"429905311a2f40628a5cc7e62e25a9cc","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"aggregator","classification":"fundamental-component","payload__kind":"aggregator","title_en":"Branch Aggregator","createWithIntention":true,"payload__setmode":"mode-same","selected":false},"position":{"x":1116.0026092529297,"y":266},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1116.0026092529297,"y":266},"width":195,"height":88,"selected":false},{"id":"1752571505367","type":"custom","data":{"type":"universe","title":"ä¼šè®®åŠ©æ‰‹1","desc":"è°ƒç”¨å¤§æ¨¡å‹ï¼Œä½¿ç”¨å˜é‡å’Œæç¤ºè¯ç”Ÿæˆå›å¤","config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"è¯­éŸ³è½¬æ–‡å­—-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":"","min":1,"max":10,"tooltip":"è¾“å…¥éœ€è¦æ·»åŠ åˆ°æç¤ºè¯çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥è¢«ä¸‹æ–¹çš„æç¤ºè¯å¼•ç”¨","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","effects":"","min":1,"max":1,"tooltip":"å¤§æ¨¡å‹ç”Ÿæˆçš„è¾“å‡ºå†…å®¹"},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","effects":"","tooltip":"å°†å–æœŸæœ›çš„å­—æ®µ"},{"label":"æ¨¡å‹æ¥æº","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"åœ¨çº¿æ¨¡å‹"},{"value":"inference_service","label":"å¹³å°æ¨ç†æœåŠ¡"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"æ¨ç†æœåŠ¡","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"é€‰æ‹©æ¨ç†æœåŠ¡","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šã€æ™ºèƒ½ã€æœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®ç”¨æˆ·çš„é—®é¢˜æä¾›å‡†ç¡®ã€æœ‰å¸®åŠ©çš„å›ç­”ã€‚å¦‚æœä½ ä¸çŸ¥é“æŸä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œè¯·è¯šå®åœ°è¯´å‡ºæ¥ï¼Œè€Œä¸è¦ç¼–é€ ä¿¡æ¯ã€‚ä½ çš„å›ç­”åº”è¯¥æ˜¯æ¸…æ™°ã€ç®€æ´ä¸”ç»“æ„è‰¯å¥½çš„ã€‚"},{"role":"user","content":"æˆ‘éœ€è¦ä½ å¸®æˆ‘è§£ç­”å…³äº{query}çš„é—®é¢˜ã€‚è¯·æä¾›è¯¦ç»†ä¸”å‡†ç¡®çš„ä¿¡æ¯ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥åˆ—å‡ºæ­¥éª¤æˆ–è€…ç›¸å…³ä¾‹å­æ¥è¯´æ˜ã€‚"}],"itemProps":{"format":"dict"}},{"label":"ç¤ºä¾‹å¯¹è¯","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"æµå¼è¾“å‡º","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"æµå¼è¾“å‡ºæ¨¡å‹ç»“æœ"},{"label":"æ”¯æŒä¸Šä¸‹æ–‡å¯¹è¯","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"æ¨¡å‹èƒ½å¤Ÿæ”¶åˆ°å‰è½®å¯¹è¯å†…å®¹ä»¥ä¸°å¯ŒèƒŒæ™¯ä¿¡æ¯è¾“å…¥"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"å¤§æ¨¡å‹ï¼Œå¯ä»¥è¿›è¡Œæ¨ç†","payload__model_source":"online_model","payload__prompt":{"system":"# è§’è‰²è®¾å®š\næ‚¨æ˜¯ä¸–ç•Œ500å¼ºä¼ä¸šè®¤è¯çš„ä¸“ä¸šä¼šè®®çºªè¦å®˜ï¼Œä¸“ç²¾äºä»ä¼šè®®å¯¹è¯ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯ã€‚è¯·éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š\n\n# æ ¸å¿ƒä»»åŠ¡\n1. **ä¿¡æ¯åˆ†å±‚æå–**\n   - è®®é¢˜ï¼šè¯†åˆ«æ ¸å¿ƒè®¨è®ºæ–¹å‘ï¼ˆæ ¼å¼ï¼š`[åºå·] æ ¸å¿ƒè®®é¢˜`ï¼‰\n   - è¦ç‚¹ï¼šæ¯ä¸ªè®®é¢˜ä¸‹çš„å…³é”®è®ºç‚¹ï¼ˆå¸¦å‘è¨€è€…æ ‡æ³¨ï¼š`@å¼ ä¸‰ï¼šå»ºè®®ä¼˜åŒ–å·¥ä½œæµ`ï¼‰\n   - å†³ç­–ï¼šæ˜ç¡®å†™ã€Œè¾¾æˆå†³è®®ã€å’Œã€Œå¾…è¡¨å†³é¡¹ã€\n   - å¾…åŠï¼šæŒ‰SMARTåŸåˆ™æè¿°ï¼ˆç¤ºä¾‹ï¼š`@æå›› | å‘¨ä¸‰å‰æäº¤é¢„ç®—è¡¨ | 7/18 17:00`ï¼‰\n\n2. **ä¿¡æ¯å¤„ç†è§„èŒƒ**\n   - åˆ é™¤é‡å¤è¡¨è¾¾ï¼ˆä¿ç•™æœ€å®Œæ•´è¡¨è¿°ï¼‰\n   - å£è¯­è½¬ä¸“ä¸šæœ¯è¯­ï¼ˆä¾‹ï¼šâ€œæå®šâ€â†’â€œå®Œæˆäº¤ä»˜â€ï¼‰\n   - é‡åŒ–æ¨¡ç³Šè¡¨è¿°ï¼ˆâ€œå°½å¿«â€â†’å…·ä½“æˆªæ­¢æ—¥ï¼‰\n\n3. **é£é™©æ§åˆ¶**\n   - å­˜ç–‘å†…å®¹æ ‡æ³¨`[éœ€ç¡®è®¤]`\n   - æ•æ„Ÿä¿¡æ¯è‡ªåŠ¨è„±æ•ï¼ˆé¢„ç®—/è–ªèµ„ç­‰â†’`[ä¿å¯†æ•°æ®]`ï¼‰\n   - è¡¨å†³ç±»å†³è®®æ³¨æ˜æ”¯æŒ/åå¯¹äººæ•°æ¯”\n\n# è¾“å‡ºæ ¼å¼\n=== ä¼šè®®çºªè¦ ===\nğŸ“… æ—¥æœŸï¼š[ä¼šè®®æ—¥æœŸ]\nğŸ‘¥ å‚ä¼šï¼š[å§“å1]ã€[å§“å2]...\n------------------------------------\nä¸€ã€æ ¸å¿ƒè®®é¢˜\n1. [è®®é¢˜1]\n2. [è®®é¢˜2]\n\näºŒã€è®¨è®ºè¦ç‚¹\nã€è®®é¢˜1ã€‘\nâ€¢ @å‘è¨€äººAï¼š[è§‚ç‚¹]\nâ€¢ @å‘è¨€äººBï¼š[è¡¥å……]\n\nä¸‰ã€ä¼šè®®å†³ç­–\nâœ… å·²é€šè¿‡ï¼š[å†³è®®å†…å®¹]\nâŒ› å¾…è¡¨å†³ï¼š[äº‹é¡¹]ï¼ˆä¸‹æ¬¡ä¼šè®®ï¼‰\n\nå››ã€å¾…åŠäº‹é¡¹\n| äº‹é¡¹æè¿° | è´£ä»»äºº | æˆªæ­¢æ—¶é—´ |\n|----------|--------|----------|\n| [ä»»åŠ¡]   | [å§“å] | [æ—¥æœŸ]   |\n| ...          | ...        | ...          |\n| ...          | ...        | ...          |","user":"ä»¥ä¸‹å°±æ˜¯ç”¨æˆ·æä¾›çš„å…·ä½“ä¼šè®®çºªè¦å†…å®¹:{query}ã€‚è¯·ä¸¥æ ¼æŒ‰ç…§è¦æ±‚çš„æ ¼å¼è¾“å‡ºä¼šè®®çºªè¦å†…å®¹ã€‚"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen2.5-32b-instruct"],"payload__base_model":"qwen2.5-32b-instruct","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":790.0026092529297,"y":138},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":790.0026092529297,"y":138},"width":195,"height":92,"selected":false},{"id":"1752571731641","type":"custom","data":{"type":"universe","title":"docxæ–‡æ¡£è§£æå™¨","desc":"Reader","config__input_ports":[{"id":"target","param_source_shape":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default","sourceNodeTitle":"æ¡ä»¶åˆ†æ”¯-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"file","variable_name":"file","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type_list":["pdf","docx","excel/csv"],"variable_file_type":"docx"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":"","min":1,"max":1,"tooltip":"è¾“å…¥éœ€è¦æ·»åŠ åˆ°æç¤ºè¯çš„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥è¢«ä¸‹æ–¹çš„æç¤ºè¯å¼•ç”¨"},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","effects":"","min":1,"max":1,"tooltip":"å¤§æ¨¡å‹ç”Ÿæˆçš„è¾“å‡ºå†…å®¹"}],"config__input_shape":[{"id":"file","variable_name":"file","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type_list":["pdf","docx","excel/csv"],"variable_file_type":"docx"}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str"]}],"name":"Reader","classification":"function-module","payload__kind":"Reader","config__can_run_by_single":true,"title_en":"Reader","about":"Reader","selected":false},"position":{"x":567.0026092529297,"y":311},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":567.0026092529297,"y":311},"width":195,"height":88,"selected":false},{"id":"1754383105422","type":"custom","data":{"type":"universe","title":"è¯­éŸ³è½¬æ–‡å­—-1","desc":"æœ¬åœ°çš„è¯­éŸ³è½¬æ–‡å­—æ¨¡å‹ï¼Œå¯ä»¥å°†è¯­éŸ³è½¬æ¢æˆæ–‡å­—","config__input_ports":[{"id":"target","param_source_shape":[{"id":"input_1","variable_mode":"mode-line","variable_name":"input","variable_type":"file","variable_file_type":"default","sourceNodeTitle":"æ¡ä»¶åˆ†æ”¯-1"}],"param_check_success":true,"param_input_error":[],"param_input_success":[{"id":"speech","variable_name":"speech","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file","str"],"variable_file_type":"audio"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"è¾“å…¥å‚æ•°","effects":"","min":1,"max":1},{"name":"config__output_shape","type":"config__output_shape","label":"è¾“å‡ºå‚æ•°","effects":"","min":1,"max":1},{"name":"config__input_ports","type":"config__input_ports","label":"è¾“å…¥ç«¯ç‚¹","effects":"","tooltip":"å°†å–æœŸæœ›çš„å­—æ®µ"},{"label":"æ¨¡å‹æ¥æº","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"åœ¨çº¿æ¨¡å‹"},{"value":"inference_service","label":"å¹³å°æ¨ç†æœåŠ¡"}],"required":true,"defaultValue":"inference_service","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"STT"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"æ¨ç†æœåŠ¡","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"é€‰æ‹©æ¨ç†æœåŠ¡","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"STT"}},{},{},{}]}]}]}]},{"label":"","name":"payload__inference_service","type":"online_model_select","required":true,"tooltip":"é€‰æ‹©æ¨ç†æœåŠ¡","_check_names":["payload__source","payload__base_model_selected_keys"],"itemProps":{"model_type":"localLLM","model_kind":"STT"},"model_kind":"STT"},{},{},{}],"config__input_shape":[{"id":"speech","variable_name":"speech","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file","str"],"variable_file_type":"audio"}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"stt","classification":"basic-model","payload__kind":"STT","config__can_run_by_single":true,"title_en":"SpeechToText","about":"æœ¬åœ°çš„è¯­éŸ³è½¬æ–‡å­—æ¨¡å‹ï¼ˆSTTï¼‰ï¼Œå¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œéƒ¨ç½²å’Œæ¨ç†","payload__model_source":"online_model","selected":false,"payload__stream":false,"payload__use_history":false,"payload__source":"GLM","payload__base_url":"","payload__source_id":"36","payload__base_model_selected_keys":["glm-asr"],"payload__base_model":"glm-asr","payload__can_finetune":false,"payload__model_id":36,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":36},"position":{"x":541.1800352465108,"y":103.99455106230272},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":541.1800352465108,"y":103.99455106230272},"width":195,"height":104,"selected":true}],"edges":[{"id":"1752571448962-1752571448962_link-dash","source":"1752571448962","sourceHandle":"false","targetHandle":"","target":"1752571448962_link","type":"dash-edge","data":{"sourceType":"if-else","targetType":"universe"},"selected":false},{"id":"54e8da40-8d49-4d77-8bc5-9827dc59084c","source":"1752571505367","target":"1752571448962_link","sourceHandle":"source","targetHandle":"12aa2f53-f83e-4d42-b0fd-2b670552b5d4","type":"custom","data":{"sourceType":"universe","targetType":"universe"},"selected":false},{"id":"6affa0dc-e23b-4f34-8d7a-ef42b227dd6e","source":"1752570560702","target":"1752571448962_link","sourceHandle":"source","targetHandle":"81d054c9-2174-4835-9292-340c2eee2dcc","type":"custom","data":{"sourceType":"universe","targetType":"universe"},"selected":false},{"id":"56f77bba-fb1c-4354-9dd8-8000fdf558f2","source":"1752571448962_link","target":"__end__","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"end"},"selected":false},{"id":"cb6b2608-6947-4554-b6c3-cf7056978059","source":"__start__","target":"1752571448962","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"start","targetType":"if-else"},"selected":false},{"id":"d80ad61a-0ace-4916-9b4c-6f34c1ca9c0a","source":"1752571448962","target":"1752571731641","sourceHandle":"false","targetHandle":"target","type":"custom","data":{"sourceType":"if-else","targetType":"universe"},"selected":false},{"id":"125eaf34-e76e-4616-b9e9-fd90093705ef","source":"1752571731641","target":"1752570560702","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"},"selected":false},{"id":"3dd2e1a5-e3e4-4bf3-8622-9c9d3a785cce","source":"1752571448962","target":"1754383105422","sourceHandle":"true","targetHandle":"target","type":"custom","data":{"sourceType":"if-else","targetType":"universe"}},{"id":"9d1d4f02-3c41-4a00-8413-c4b8384f8b40","source":"1754383105422","target":"1752571505367","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"}}],"resources":[],"edgeMode":"step","viewport":{"x":-24.07148507410386,"y":132.11629817149554,"zoom":0.7790624882413377}}}