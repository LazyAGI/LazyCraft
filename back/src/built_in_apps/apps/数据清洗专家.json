{"id":"2b39da65-2358-4f3d-8a24-41e5147716cc","name":"数据清洗专家","description":"支持对表格与文本数据自动检测与修复多类问题，包括缺失值、异常值、重复项、编码错误、无效字符、冗余字段等。","icon":"","icon_background":null,"categories":[],"tags":["办公助手","效率工具"],"graph":{"nodes":[{"id":"__start__","type":"custom","data":{"type":"start","title":"开始","desc":"","payload__kind":"__start__","variables":[],"config__input_ports":[],"config__output_shape":[{"id":"61f25d79-378f-4208-9b91-61c7286b3f8a","variable_mode":"mode-line","variable_name":"file","payload__batch_flag":false,"variable_type":"file","variable_file_type":"excel/csv"}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__output_shape","type":"config__output_shape","label":"参数","tooltip":"定义工作流需要的输入参数，可以选择多种格式"}],"selected":false},"position":{"x":100,"y":224},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":100,"y":224},"width":195,"height":56,"selected":false},{"id":"__end__","type":"custom","data":{"type":"end","title":"结束","desc":"","payload__kind":"__end__","outputs":[],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"数据清洗专家"}],"param_check_success":true,"param_input_error":[{"id":"9c2e2020-1716-48bc-8d93-77c92119e2ac","variable_mode":"mode-line","variable_name":"output","variable_type":"file","payload__batch_flag":false,"variable_file_type":"default","error_type":"type_mismatch","source_info":{"node_title":"大模型-1","variable_name":"output","variable_type":"str"}}],"param_input_success":[{"id":"9c2e2020-1716-48bc-8d93-77c92119e2ac","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}]}],"config__output_ports":[],"config__input_shape":[{"id":"9c2e2020-1716-48bc-8d93-77c92119e2ac","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"}],"selected":false},"position":{"x":893.1490332643991,"y":224},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":893.1490332643991,"y":224},"width":195,"height":56,"selected":false},{"id":"1752570373952","type":"custom","data":{"type":"universe","title":"Reader-1","desc":"Reader","config__input_ports":[{"id":"target","param_source_shape":[{"id":"61f25d79-378f-4208-9b91-61c7286b3f8a","variable_mode":"mode-line","variable_name":"file","payload__batch_flag":false,"variable_type":"file","variable_file_type":"excel/csv","sourceNodeTitle":"开始"}],"param_check_success":true,"param_input_success":[{"id":"file","variable_name":"file","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type_list":["pdf","docx","excel/csv"],"variable_file_type":"excel/csv"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":1,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用"},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"}],"config__input_shape":[{"id":"file","variable_name":"file","variable_type":"file","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["file"],"variable_file_type_list":["pdf","docx","excel/csv"],"variable_file_type":"excel/csv"}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str"]}],"name":"Reader","classification":"function-module","payload__kind":"Reader","config__can_run_by_single":true,"title_en":"Reader","about":"Reader","selected":false},"position":{"x":352.45623894449454,"y":306.31950791077287},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":352.45623894449454,"y":306.31950791077287},"width":195,"height":88,"selected":true},{"id":"1752570382983","type":"custom","data":{"type":"universe","title":"数据清洗专家","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":false,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str"],"sourceNodeTitle":"Reader-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"你是一名资深数据清洗与数据治理专家。用户提供了表格或文本数据，请你执行以下清洗任务，并输出详细的处理说明与修复后的数据。\n清洗任务包括：\n缺失值：识别缺失字段，说明缺失比例，并根据字段类型自动选择合理的填充策略（如均值/中位数/众数/插值/填充“未知”等）。\n异常值：检测数值型/日期型/分类型字段中的异常值，说明判别依据与修复方法（如替换、删除、标记）。\n重复项：检测完全重复或主键（如ID）重复的记录，执行去重。\n编码错误：检测字符编码问题，识别乱码、非标准符号或编码错误，并修复为标准格式。\n无效字符与特殊符号：清除不符合数据规范的字符（如\\n、\\t、控制符、非法表情等）。\n冗余字段与无关列：根据数据内容识别无信息量或冗余的字段，建议删除或合并。\n统一数据格式：如日期格式统一（YYYY-MM-DD）、数值标准化、货币符号统一等。\n数据类型不一致：检测字段中的类型混用（如数字与字符串混合），并修正。\n数据样例：\n{query}  \n输出格式：\n\n一、数据清洗报告\n1. 缺失值检测与修复：\n...\n2. 异常值检测与修复：\n...\n3. 重复项处理：\n...\n4. 编码与无效字符修复：\n...\n5. 冗余字段处理：\n...\n6. 数据类型与格式统一：\n...\n\n二、清洗后数据示例（前5行）\n...\n特别说明：\n请保留字段名称与原始结构。\n每一步请输出简明的修复依据与方法。\n清洗逻辑需严谨、稳健，避免误删和误修。","user":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus-0919"],"payload__base_model":"qwen-plus-0919","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":654.302636104447,"y":316.40246044613554},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":654.302636104447,"y":316.40246044613554},"width":195,"height":92,"selected":false}],"edges":[{"id":"15e28101-0905-4321-bb1f-643f748cb6c4","source":"__start__","target":"1752570373952","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"start","targetType":"universe"}},{"id":"93d9b2df-fbd9-457c-8526-546575efecc8","source":"1752570373952","target":"1752570382983","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"f3346ca6-6dca-48f2-8789-bf58dbb7fbd2","source":"1752570382983","target":"__end__","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"end"}}],"resources":[],"edgeMode":"bezier","viewport":{"x":61.29966743072731,"y":-23.013560050267188,"zoom":1.0312859818192657}}}