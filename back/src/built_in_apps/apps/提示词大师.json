{"id":"13aa0b1b-a70b-4290-890f-3827d4083b21","name":"提示词大师","description":"","icon":"","icon_background":null,"categories":[],"tags":["办公助手"],"graph":{"nodes":[{"id":"__start__","type":"custom","data":{"type":"start","title":"开始","desc":"","payload__kind":"__start__","variables":[],"config__input_ports":[],"config__output_shape":[{"id":"bfb362f7-b6be-41ef-abb5-3b58fae0cf13","variable_mode":"mode-line","variable_name":"input","variable_type":"str","payload__batch_flag":false}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__output_shape","type":"config__output_shape","label":"参数","tooltip":"定义工作流需要的输入参数，可以选择多种格式"}],"selected":false},"position":{"x":225,"y":255},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":225,"y":255},"width":195,"height":56,"selected":false},{"id":"__end__","type":"custom","data":{"type":"end","title":"结束","desc":"","payload__kind":"__end__","outputs":[],"config__input_ports":[{"id":"target","param_source_shape":[{"id":"6aa7b084b2b848f385958c8f4bf6acd0","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"意图识别聚合器-1"}],"param_check_success":true,"param_input_error":[{"id":"3fb359a3-1686-4e4d-8e1a-55ea8ac5e621","variable_mode":"mode-line","variable_name":"output","error_type":"type_mismatch","source_info":{"node_title":"意图识别聚合器-1","variable_name":"output_0","variable_type":"str"}}],"param_input_success":[{"id":"3fb359a3-1686-4e4d-8e1a-55ea8ac5e621","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}]}],"config__output_ports":[],"config__input_shape":[{"id":"3fb359a3-1686-4e4d-8e1a-55ea8ac5e621","variable_mode":"mode-line","variable_name":"output","variable_type":"str","payload__batch_flag":false}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"}],"selected":false},"position":{"x":1334.5761802547597,"y":304.93521325239686},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1334.5761802547597,"y":304.93521325239686},"width":195,"height":56,"selected":false},{"id":"1755230342306","type":"custom","data":{"type":"question-classifier","title":"意图识别-1","desc":"判断用户输入的意图识别，将其与预设意图选项进行匹配。","query_variable_selector":[],"topics":[],"linkNodeId":"1755230342306_link","payload__kind":"Intention","config__can_run_by_single":false,"config__input_ports":[{"id":"target","param_source_shape":[{"id":"bfb362f7-b6be-41ef-abb5-3b58fae0cf13","variable_mode":"mode-line","variable_name":"input","variable_type":"str","payload__batch_flag":false,"sourceNodeTitle":"开始"}],"param_check_success":true,"param_input_error":[{"variable_name":"query","variable_type":"str","readOnly":true,"id":"2a440b70-7a8f-46ef-96fc-568bf880c4c2","variable_mode":"mode-line","error_type":"type_mismatch","source_info":{"node_title":"开始","variable_name":"input"}}],"param_input_success":[{"variable_name":"query","variable_type":"str","readOnly":true,"id":"2a440b70-7a8f-46ef-96fc-568bf880c4c2","variable_mode":"mode-line"}]}],"config__output_ports":[{"id":"f67a3cae-71c9-4baf-b739-72cf48a04321","label":"意图 1","cond":"创意写作"},{"id":"c9607c42-1721-4a47-81bc-6ef05b2d9f37","label":"意图 2","cond":"信息处理"},{"id":"b72a2676-275f-4ef7-876c-a1175d6626fb","label":"意图 3","cond":"跨模型对比"},{"id":"false","cond":"","label":"默认"}],"config__input_shape":[{"variable_name":"query","variable_type":"str","readOnly":true,"id":"2a440b70-7a8f-46ef-96fc-568bf880c4c2","variable_mode":"mode-line"}],"config__output_shape":[{"variable_name":"output","variable_type":"str","readOnly":true,"id":"ba6739fb-903e-4194-8ed7-2aca2a80dff9","variable_mode":"mode-line"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","readOnly":true,"tooltip":"需要进行意图识别的参数"},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","readOnly":true,"tooltip":"意图识别后输出的参数"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","tooltip":"输入参数的数量，需保证与输入参数数量保持一致"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__prompt"},{"key":"payload__prompt_template"},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true},{"label":"高级设置","name":"payload__constrain","type":"text","placeholder":"这里输入需要模型特别注意的内容","defaultValue":"","tooltip":"添加人为限制条件，拒绝无关意图","required":false},{"type":"intention","label":"意图识别","name":"payload__intention","required":true,"tooltip":"添加想要识别的意图，每个意图最好简洁清晰，意图之间没有交叉"}],"code_language":"python3","name":"question-classifier","title_en":"Intention","about":"内置大模型用于判断意图，用户需要配置使用的大模型。意图识别每个意图都有一个输出的点，但每个点只能连一条边。意图识别的所有Action最后会汇集到一个聚合器上","classification":"function-module","payload__model_source":"online_model","payload__constrain":"","selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":479,"y":243},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":479,"y":243},"width":195,"height":130,"selected":false},{"id":"1755230342306_link","type":"custom","data":{"type":"universe","title":"意图识别聚合器-1","desc":"聚合多个意图分支的结果","config__input_ports":[{"id":"b00468d3-c186-41c1-84d1-3c45e0e28de8","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"大模型-1"}],"param_check_success":true,"param_input_error":[{"id":"input","variable_mode":"mode-line","error_type":"count_more"}],"param_input_success":[{"id":"2b16282c255f4c069b3cd0dbf0ef75bf","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]},{"id":"0fe206b2-d3dd-433d-aedc-998890a1fdc4","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"大模型-1-2"}],"param_check_success":true,"param_input_error":[{"id":"eee9a4532ef647b0b45ba54cb1f426b0","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","error_type":"count_more"}],"param_input_success":[{"id":"2b16282c255f4c069b3cd0dbf0ef75bf","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]},{"id":"816c5d41-a0b8-458b-81aa-768854cb8b93","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"大模型-1-3"}],"param_check_success":true,"param_input_error":[{"id":"eee9a4532ef647b0b45ba54cb1f426b0","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","error_type":"count_more"}],"param_input_success":[{"id":"2b16282c255f4c069b3cd0dbf0ef75bf","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]},{"id":"2d2dffe6-8af4-4c5b-8c55-e5f4a70d7240","param_source_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","sourceNodeTitle":"大模型-1-3-4"}],"param_check_success":true,"param_input_error":[{"id":"06cc94f85d794fee902163f2442c9b1c","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default","error_type":"count_more"}],"param_input_success":[{"id":"2b16282c255f4c069b3cd0dbf0ef75bf","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":["InputShape_OutputShape_ModeSame"],"readOnly":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","readOnly":true},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","max":9999,"tooltip":"将取期望的字段"}],"config__input_shape":[{"id":"2b16282c255f4c069b3cd0dbf0ef75bf","variable_name":"input_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"config__output_shape":[{"id":"6aa7b084b2b848f385958c8f4bf6acd0","variable_name":"output_0","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"aggregator","classification":"fundamental-component","payload__kind":"aggregator","title_en":"Branch Aggregator","payload__setmode":"mode-same","createWithIntention":true,"selected":false},"position":{"x":1082.5404607026264,"y":287.21037084195655},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":1082.5404607026264,"y":287.21037084195655},"width":195,"height":130,"selected":false},{"id":"1755230444192","type":"custom","data":{"type":"universe","title":"大模型-1","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"variable_name":"output","variable_type":"str","readOnly":true,"id":"ba6739fb-903e-4194-8ed7-2aca2a80dff9","variable_mode":"mode-line","sourceNodeTitle":"意图识别-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请严格遵循以下工作流程：\n\n### 核心原则\n1. **深度需求挖掘** - 通过提问明确5大维度：任务目标、模型特性、风格要求、格式规范、限制条件\n2. **动态优化策略** - 采用CoT思维链：分析需求→构建框架→植入技巧→生成→自检优化\n3. **跨模型适配** - 针对GPT/Claude/文心/通义/Midjourney等模型特性调整设计\n4. **技巧融合** - 灵活运用：角色扮演、零样本思维链、格式种子、负面提示等高级技巧\n\n### 工作流程\n**第一步：需求澄清**（当需求模糊时主动询问）\n▶︎ 必问维度：\n- 核心任务类型（创作/分析/编程/图像生成等）\n- 目标模型及版本（如未说明则提供跨模型方案）\n- 风格参数（正式/幽默/简洁/诗意/特定作者风格）\n- 结构要求（段落/列表/表格/JSON/剧本格式等）\n- 关键限制（长度/禁用语/安全过滤/特殊要求）\n\n**第二步：提示词构建**\n▶︎ 必须包含模块：\n[角色定义] 用1句精准定位身份能力\n[任务指令] 分步骤明确操作要求\n[输出规范] 指定格式/长度/结构模板\n[思维链] 植入推理逻辑（如：\"请逐步思考...最后输出\"）\n[优化技巧] 根据模型选择：\n▷ LLM类：添加\"避免笼统表述\"/\"如不确定请说明\"\n▷ 文生图类：补充负面提示+参数设置\n**第三步：交付与优化**\n1. 输出完整提示词（标注适用模型）\n2. 附设计说明：解释关键设计点的理论依据\n3. 提供测试建议：\"您可尝试添加__提升效果\"\n4. 主动询问：\"是否需要补充其他优化维度？\"\n\n### 专业能力展示\n当收到需求时：\n1. 首轮输出完整提示词+设计解析\n2. 次轮提供2种变体方案（不同风格/长度）\n3. 持续优化直到用户确认满意\n\n现在请回复：\"{query}\"","user":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请根据用户输入{query}，完成任务"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":771.0938539430729,"y":138.03559549363104},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":771.0938539430729,"y":138.03559549363104},"width":195,"height":92,"selected":false},{"id":"17552304706970","type":"custom","data":{"type":"universe","title":"大模型-1-2","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"variable_name":"output","variable_type":"str","readOnly":true,"id":"ba6739fb-903e-4194-8ed7-2aca2a80dff9","variable_mode":"mode-line","sourceNodeTitle":"意图识别-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请严格遵循以下工作流程：\n\n### 核心原则\n1. **深度需求挖掘** - 通过提问明确5大维度：任务目标、模型特性、风格要求、格式规范、限制条件\n2. **动态优化策略** - 采用CoT思维链：分析需求→构建框架→植入技巧→生成→自检优化\n3. **跨模型适配** - 针对GPT/Claude/文心/通义/Midjourney等模型特性调整设计\n4. **技巧融合** - 灵活运用：角色扮演、零样本思维链、格式种子、负面提示等高级技巧\n\n### 工作流程\n**第一步：需求澄清**（当需求模糊时主动询问）\n▶︎ 必问维度：\n- 核心任务类型（创作/分析/编程/图像生成等）\n- 目标模型及版本（如未说明则提供跨模型方案）\n- 风格参数（正式/幽默/简洁/诗意/特定作者风格）\n- 结构要求（段落/列表/表格/JSON/剧本格式等）\n- 关键限制（长度/禁用语/安全过滤/特殊要求）\n\n**第二步：提示词构建**\n▶︎ 必须包含模块：\n[角色定义] 用1句精准定位身份能力\n[任务指令] 分步骤明确操作要求\n[输出规范] 指定格式/长度/结构模板\n[思维链] 植入推理逻辑（如：\"请逐步思考...最后输出\"）\n[优化技巧] 根据模型选择：\n▷ LLM类：添加\"避免笼统表述\"/\"如不确定请说明\"\n▷ 文生图类：补充负面提示+参数设置\n**第三步：交付与优化**\n1. 输出完整提示词（标注适用模型）\n2. 附设计说明：解释关键设计点的理论依据\n3. 提供测试建议：\"您可尝试添加__提升效果\"\n4. 主动询问：\"是否需要补充其他优化维度？\"\n\n### 专业能力展示\n当收到需求时：\n1. 首轮输出完整提示词+设计解析\n2. 次轮提供2种变体方案（不同风格/长度）\n3. 持续优化直到用户确认满意\n\n现在请回复：\"{query}\"","user":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请根据用户输入{query}，完成任务"},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":777.1877078861457,"y":255},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":777.1877078861457,"y":255},"width":195,"height":92,"selected":false},{"id":"17552304790740","type":"custom","data":{"type":"universe","title":"大模型-1-3","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"variable_name":"output","variable_type":"str","readOnly":true,"id":"ba6739fb-903e-4194-8ed7-2aca2a80dff9","variable_mode":"mode-line","sourceNodeTitle":"意图识别-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"param_input_error":[]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请根据用户输入{query}，完成任务","user":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请严格遵循以下工作流程：\n\n### 核心原则\n1. **深度需求挖掘** - 通过提问明确5大维度：任务目标、模型特性、风格要求、格式规范、限制条件\n2. **动态优化策略** - 采用CoT思维链：分析需求→构建框架→植入技巧→生成→自检优化\n3. **跨模型适配** - 针对GPT/Claude/文心/通义/Midjourney等模型特性调整设计\n4. **技巧融合** - 灵活运用：角色扮演、零样本思维链、格式种子、负面提示等高级技巧\n\n### 工作流程\n**第一步：需求澄清**（当需求模糊时主动询问）\n▶︎ 必问维度：\n- 核心任务类型（创作/分析/编程/图像生成等）\n- 目标模型及版本（如未说明则提供跨模型方案）\n- 风格参数（正式/幽默/简洁/诗意/特定作者风格）\n- 结构要求（段落/列表/表格/JSON/剧本格式等）\n- 关键限制（长度/禁用语/安全过滤/特殊要求）\n\n**第二步：提示词构建**\n▶︎ 必须包含模块：\n[角色定义] 用1句精准定位身份能力\n[任务指令] 分步骤明确操作要求\n[输出规范] 指定格式/长度/结构模板\n[思维链] 植入推理逻辑（如：\"请逐步思考...最后输出\"）\n[优化技巧] 根据模型选择：\n▷ LLM类：添加\"避免笼统表述\"/\"如不确定请说明\"\n▷ 文生图类：补充负面提示+参数设置\n**第三步：交付与优化**\n1. 输出完整提示词（标注适用模型）\n2. 附设计说明：解释关键设计点的理论依据\n3. 提供测试建议：\"您可尝试添加__提升效果\"\n4. 主动询问：\"是否需要补充其他优化维度？\"\n\n### 专业能力展示\n当收到需求时：\n1. 首轮输出完整提示词+设计解析\n2. 次轮提供2种变体方案（不同风格/长度）\n3. 持续优化直到用户确认满意\n\n现在请回复：\"{query}\""},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":777.1877078861457,"y":374.37541577229143},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":777.1877078861457,"y":374.37541577229143},"width":195,"height":92,"selected":false},{"id":"17552309800540","type":"custom","data":{"type":"universe","title":"大模型-1-3-4","desc":"调用大模型，使用变量和提示词生成回复","config__input_ports":[{"id":"target","param_source_shape":[{"variable_name":"output","variable_type":"str","readOnly":true,"id":"ba6739fb-903e-4194-8ed7-2aca2a80dff9","variable_mode":"mode-line","sourceNodeTitle":"意图识别-1"}],"param_check_success":true,"param_input_success":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}]}],"config__output_ports":[{"id":"source"}],"config__parameters":[{"name":"config__input_shape","type":"config__input_shape","label":"输入参数","effects":"","min":1,"max":10,"tooltip":"输入需要添加到提示词的信息，这些信息可以被下方的提示词引用","configurable":true},{"name":"config__output_shape","type":"config__output_shape","label":"输出参数","effects":"","min":1,"max":1,"tooltip":"大模型生成的输出内容"},{"name":"config__input_ports","type":"config__input_ports","label":"输入端点","effects":"","tooltip":"将取期望的字段"},{"label":"模型来源","name":"payload__model_source","type":"select","allowClear":false,"options":[{"value":"online_model","label":"在线模型"},{"value":"inference_service","label":"平台推理服务"}],"required":true,"defaultValue":"online_model","watch":[{"conditions":[{"key":"payload__model_source","value":["online_model","inference_service"],"operator":"include"}],"actions":[{"key":"payload__source"},{"key":"payload__base_model_selected_keys"},{"key":"payload__inference_service"},{"key":"payload__inference_service_selected_keys"},{"key":"payload__jobid"},{"key":"payload__token"},{"key":"payload__stream","value":false},{"key":"payload__use_history","value":false}],"children":[{"conditions":[{"key":"payload__model_source","value":"online_model"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"","type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{},{},{}]}]},{"conditions":[{"key":"payload__model_source","value":"inference_service"}],"actions":[{"key":"config__parameters","extend":true,"value":[{},{},{},{},{"label":"推理服务","name":"payload__inference_service","type":"inference_service_select","required":true,"tooltip":"选择推理服务","_check_names":[],"itemProps":{"model_type":"localLLM","model_kind":"localLLM","model_show_type":"localLLM"}},{},{},{}]}]}]}]},{"type":"online_model_select","_check_names":["payload__source","payload__base_model_selected_keys"],"required":true,"model_kind":"OnlineLLM"},{"name":"payload__prompt","type":"prompt_editor","required":false,"defaultValue":[{"role":"system","content":"你是一个专业、智能、有用的AI助手。请根据用户的问题提供准确、有帮助的回答。如果你不知道某个问题的答案，请诚实地说出来，而不要编造信息。你的回答应该是清晰、简洁且结构良好的。"},{"role":"user","content":"我需要你帮我解答关于{query}的问题。请提供详细且准确的信息，如果有需要，可以列出步骤或者相关例子来说明。"}],"itemProps":{"format":"dict"}},{"label":"示例对话","name":"payload__example_dialogs","type":"example_dialog","required":false,"defaultValue":[]},{"label":"流式输出","name":"payload__stream","type":"boolean","required":true,"defaultValue":false,"tooltip":"流式输出模型结果"},{"label":"支持上下文对话","name":"payload__use_history","type":"boolean","defaultValue":false,"required":true,"tooltip":"模型能够收到前轮对话内容以丰富背景信息输入"}],"config__input_shape":[{"id":"query","variable_name":"query","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":false,"variable_mode_readonly":false,"variable_type_options":["str","dict"],"configurable":true}],"config__output_shape":[{"id":"output","variable_name":"output","variable_type":"str","variable_mode":"mode-line","variable_name_readonly":true,"variable_type_readonly":true,"variable_mode_readonly":false,"variable_type_options":["str"],"variable_file_type":"default"}],"name":"online-llm","classification":"basic-model","payload__kind":"OnlineLLM","title_en":"LLM","config__can_run_by_single":true,"about":"大模型，可以进行推理","payload__model_source":"online_model","payload__prompt":{"system":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请严格遵循以下工作流程：\n\n### 核心原则\n1. **深度需求挖掘** - 通过提问明确5大维度：任务目标、模型特性、风格要求、格式规范、限制条件\n2. **动态优化策略** - 采用CoT思维链：分析需求→构建框架→植入技巧→生成→自检优化\n3. **跨模型适配** - 针对GPT/Claude/文心/通义/Midjourney等模型特性调整设计\n4. **技巧融合** - 灵活运用：角色扮演、零样本思维链、格式种子、负面提示等高级技巧\n\n### 工作流程\n**第一步：需求澄清**（当需求模糊时主动询问）\n▶︎ 必问维度：\n- 核心任务类型（创作/分析/编程/图像生成等）\n- 目标模型及版本（如未说明则提供跨模型方案）\n- 风格参数（正式/幽默/简洁/诗意/特定作者风格）\n- 结构要求（段落/列表/表格/JSON/剧本格式等）\n- 关键限制（长度/禁用语/安全过滤/特殊要求）\n\n**第二步：提示词构建**\n▶︎ 必须包含模块：\n[角色定义] 用1句精准定位身份能力\n[任务指令] 分步骤明确操作要求\n[输出规范] 指定格式/长度/结构模板\n[思维链] 植入推理逻辑（如：\"请逐步思考...最后输出\"）\n[优化技巧] 根据模型选择：\n▷ LLM类：添加\"避免笼统表述\"/\"如不确定请说明\"\n▷ 文生图类：补充负面提示+参数设置\n**第三步：交付与优化**\n1. 输出完整提示词（标注适用模型）\n2. 附设计说明：解释关键设计点的理论依据\n3. 提供测试建议：\"您可尝试添加__提升效果\"\n4. 主动询问：\"是否需要补充其他优化维度？\"\n\n### 专业能力展示\n当收到需求时：\n1. 首轮输出完整提示词+设计解析\n2. 次轮提供2种变体方案（不同风格/长度）\n3. 持续优化直到用户确认满意\n\n现在请回复：\"{query}\"","user":"你是一名顶尖的提示词工程师（Prompt Engineer），拥有为不同AI模型设计高效指令的专家级能力。请严格遵循以下工作流程：\n\n### 核心原则\n1. **深度需求挖掘** - 通过提问明确5大维度：任务目标、模型特性、风格要求、格式规范、限制条件\n2. **动态优化策略** - 采用CoT思维链：分析需求→构建框架→植入技巧→生成→自检优化\n3. **跨模型适配** - 针对GPT/Claude/文心/通义/Midjourney等模型特性调整设计\n4. **技巧融合** - 灵活运用：角色扮演、零样本思维链、格式种子、负面提示等高级技巧\n\n### 工作流程\n**第一步：需求澄清**（当需求模糊时主动询问）\n▶︎ 必问维度：\n- 核心任务类型（创作/分析/编程/图像生成等）\n- 目标模型及版本（如未说明则提供跨模型方案）\n- 风格参数（正式/幽默/简洁/诗意/特定作者风格）\n- 结构要求（段落/列表/表格/JSON/剧本格式等）\n- 关键限制（长度/禁用语/安全过滤/特殊要求）\n\n**第二步：提示词构建**\n▶︎ 必须包含模块：\n[角色定义] 用1句精准定位身份能力\n[任务指令] 分步骤明确操作要求\n[输出规范] 指定格式/长度/结构模板\n[思维链] 植入推理逻辑（如：\"请逐步思考...最后输出\"）\n[优化技巧] 根据模型选择：\n▷ LLM类：添加\"避免笼统表述\"/\"如不确定请说明\"\n▷ 文生图类：补充负面提示+参数设置\n**第三步：交付与优化**\n1. 输出完整提示词（标注适用模型）\n2. 附设计说明：解释关键设计点的理论依据\n3. 提供测试建议：\"您可尝试添加__提升效果\"\n4. 主动询问：\"是否需要补充其他优化维度？\"\n\n### 专业能力展示\n当收到需求时：\n1. 首轮输出完整提示词+设计解析\n2. 次轮提供2种变体方案（不同风格/长度）\n3. 持续优化直到用户确认满意\n\n现在请回复：\"{query}\""},"payload__example_dialogs":[],"payload__stream":false,"payload__use_history":false,"selected":false,"payload__source":"Qwen","payload__base_url":"","payload__source_id":"6","payload__base_model_selected_keys":["qwen-plus"],"payload__base_model":"qwen-plus","payload__can_finetune":false,"payload__model_id":6,"payload__model_generate_control":{"payload__temperature":0.8,"payload__top_p":0.7,"payload__max_tokens":4096},"payload__base_model_id":6},"position":{"x":785.022662955811,"y":518.3495506966512},"targetPosition":"left","sourcePosition":"right","positionAbsolute":{"x":785.022662955811,"y":518.3495506966512},"width":195,"height":92,"selected":true}],"edges":[{"id":"1755230342306-1755230342306_link-dash","source":"1755230342306","sourceHandle":"false","targetHandle":"","target":"1755230342306_link","type":"dash-edge","data":{"sourceType":"question-classifier","targetType":"universe"}},{"id":"d1bce9b4-bbfc-4abb-9e03-a5573fe59a9f","source":"__start__","target":"1755230342306","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"start","targetType":"question-classifier"}},{"id":"9c3e4bad-02b9-4956-bcbb-46a5f197c2c4","source":"1755230342306","target":"1755230444192","sourceHandle":"f67a3cae-71c9-4baf-b739-72cf48a04321","targetHandle":"target","type":"custom","data":{"sourceType":"question-classifier","targetType":"universe"}},{"id":"3827e399-470e-4838-9ef4-1b52a1d86f4f","source":"1755230342306","target":"17552304706970","sourceHandle":"c9607c42-1721-4a47-81bc-6ef05b2d9f37","targetHandle":"target","type":"custom","data":{"sourceType":"question-classifier","targetType":"universe"}},{"id":"785c2c77-f773-45e0-81df-f0f6bebe8ae3","source":"1755230444192","target":"1755230342306_link","sourceHandle":"source","targetHandle":"b00468d3-c186-41c1-84d1-3c45e0e28de8","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"d8d523cb-a9d9-486f-8a43-8463e2694c9a","source":"17552304706970","target":"1755230342306_link","sourceHandle":"source","targetHandle":"0fe206b2-d3dd-433d-aedc-998890a1fdc4","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"a1ac7c2d-1bab-4a3f-8ac6-27e65f6c2500","source":"17552304790740","target":"1755230342306_link","sourceHandle":"source","targetHandle":"816c5d41-a0b8-458b-81aa-768854cb8b93","type":"custom","data":{"sourceType":"universe","targetType":"universe"}},{"id":"c0cd0d66-4747-49e4-bf5a-74d51368269b","source":"1755230342306_link","target":"__end__","sourceHandle":"source","targetHandle":"target","type":"custom","data":{"sourceType":"universe","targetType":"end"}},{"id":"05b6b47b-ddbe-4b0e-838f-5b528910c040","source":"1755230342306","target":"17552309800540","sourceHandle":"false","targetHandle":"target","type":"custom","data":{"sourceType":"question-classifier","targetType":"universe"}},{"id":"b17687a5-e9c7-4b3c-b411-090116f59187","source":"1755230342306","target":"17552304790740","sourceHandle":"b72a2676-275f-4ef7-876c-a1175d6626fb","targetHandle":"target","type":"custom","data":{"sourceType":"question-classifier","targetType":"universe"}},{"id":"ac5726cd-6e04-4041-b2ab-a9f1ae0bb7b1","source":"17552309800540","target":"1755230342306_link","sourceHandle":"source","targetHandle":"2d2dffe6-8af4-4c5b-8c55-e5f4a70d7240","type":"custom","data":{"sourceType":"universe","targetType":"universe"}}],"resources":[],"edgeMode":"bezier","viewport":{"x":-145.6741925245201,"y":8.412454646892797,"zoom":1.0312859818192648}}}